(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{258:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(1205)}])},9504:function(e,t,s){"use strict";s.d(t,{K:function(){return l}});var r=s(2676);let l=e=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36",fill:"none",...e,children:[(0,r.jsx)("path",{stroke:"url(#svgid_0)",fill:"url(#svgid_1)",d:"M10.1777 10.0258L10.3929 9.80693V9.49999V5.52777H14.2857H14.6001L14.8205 5.30358L18 2.06976L21.1795 5.30358L21.3999 5.52777H21.7143H25.6071V9.50001V9.80696L25.8223 10.0258L28.5553 12.8055L25.8223 15.5853L25.6071 15.8041V16.1111V20.0833H21.7143H21.3999L21.1795 20.3075L18 23.5413L14.8205 20.3075L14.6001 20.0833H14.2857H10.3929V16.1111V15.8042L10.1777 15.5853L7.44464 12.8055L10.1777 10.0258ZM14.7399 28.0317L11.56 33.4221L9.85164 29.9469L9.6456 29.5278H9.17857H6.29474L8.68445 25.3611H12.1142L14.7399 28.0317ZM26.8214 29.5278H26.3544L26.1484 29.9469L24.44 33.4221L21.2601 28.0317L23.8858 25.3611H27.3155L29.7053 29.5278H26.8214Z",strokeWidth:"1.5"}),(0,r.jsx)("circle",{stroke:"#FFAB2C",fill:"#FFC82C",cx:"18",cy:"13",r:"5.5"}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"svgid_1",x1:"7.08",y1:"3.72",x2:"33.6694",y2:"25.0697",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#0056D6"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#1A9FFF"})]}),(0,r.jsxs)("linearGradient",{id:"svgid_0",x1:"7.08",y1:"3.72",x2:"33.6694",y2:"25.0697",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#0056D6"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#1A9FFF"})]})]})]})},2475:function(e,t,s){"use strict";var r=s(2676),l=s(9468),a=s.n(l);let n=e=>{let{src:t,width:s,quality:r}=e;return"".concat(t,"?w=").concat(s,"&q=").concat(r||75,"&fm=jpg&fl=progressive")};t.Z=e=>(0,r.jsx)(a(),{loader:n,...e,alt:e.alt})},6025:function(e,t,s){"use strict";var r=s(2676),l=s(2475),a=s(7784),n=s(9504);t.Z=e=>{let{id:t,title:s,img:i,rating:c,allAchievements:o,interactive:d=!0}=e;return(0,r.jsxs)("div",{className:(0,a.AK)("game-card",!d&&"pointer-events-none"),"data-testid":t,children:[o&&(0,r.jsx)(n.K,{className:"absolute z-40 top-1 right-0 w-8"}),(0,r.jsx)(l.Z,{src:i,alt:s,quality:75,placeholder:"blur",blurDataURL:"".concat(i,"?w=100&q=5&fm=jpg&fl=progressive"),sizes:"(max-width: 768px) 50vw, (max-width: 1200px) 30vw, 20vw",width:"600",height:"900"}),(0,r.jsx)("div",{className:"relative bottom-0 flex items-center justify-center w-full",children:(0,r.jsx)("span",{className:"absolute z-40 px-2 font-semibold rounded-xs -bottom-3 shadow-lg tracking-wider",style:{background:(0,a.dO)(c)},children:c})})]})}},7784:function(e,t,s){"use strict";s.d(t,{AK:function(){return r},dO:function(){return l}});let r=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")},l=e=>e>=95?"#0EA5E9":e>80&&e<95?"#22C55E":e>75&&e<=80?"#86EFAC":e>60&&e<=75?"#FACC15":e>50&&e<=60?"#EAB308":"#EF4444";s(8092)},8092:function(e,t,s){"use strict";s.d(t,{M:function(){return l}});let r={completed:(e,t)=>new Date(t.completedAt).getTime()-new Date(e.completedAt).getTime(),playtime:(e,t)=>(t.playtime||0)-(e.playtime||0),rating:(e,t)=>t.rating-e.rating,name:(e,t)=>e.title.localeCompare(t.title),achievements:(e,t)=>!!e.allAchievements==!!t.allAchievements?0:e.allAchievements?-1:1},l=(e,t)=>e.sort(r.completed).sort(r[t])},1205:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return H},default:function(){return Z}});var r=s(2676),l=s(8781),a=s(6025),n=s(2840),i=s.n(n),c=s(350),o=s.n(c),d=s(1074),m=s(5271),x=s(3985),u=s(7527),h=s(1747),g=s(8129),p=s(133),f=s(8042),j=s(3988),v=s(8912),w=s(4728),y=s(6745),N=s(7784);let C=e=>{let{children:t,selected:s,...l}=e;return(0,r.jsx)(j.v.Item,{children:e=>{let{active:a}=e;return(0,r.jsxs)("button",{...l,className:(0,N.AK)("group flex w-full items-center rounded-md px-2 py-1.5 text-sm",a?"bg-gray-900 text-white":"text-gray-300"),children:[t,s&&(0,r.jsx)(y.Z,{"data-testid":"check",className:"w-4 h-4","aria-hidden":"true"})]})}})},L=e=>{let{children:t}=e;return(0,r.jsx)("div",{className:"group flex w-full items-center rounded-md px-2 py-1.5 text-sm text-gray-300 font-semibold",children:t})},b=()=>(0,r.jsx)("div",{className:"bg-gray-600 h-[1px] my-1.5 mx-1"});var A=e=>{let{text:t,children:s}=e;return(0,r.jsxs)(j.v,{as:"div",className:"relative inline-block text-left",children:[(0,r.jsxs)(j.v.Button,{className:"inline-flex justify-between items-center w-32 px-3 py-2 text-sm font-medium text-gray-300 bg-gray-800 rounded-md hover:bg-opacity-30",children:[t,(0,r.jsx)(w.Z,{className:"w-4 h-4 ml-2 -mr-1 text-gray-500","aria-hidden":"true"})]}),(0,r.jsx)(v.u,{as:m.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,r.jsx)(j.v.Items,{className:"absolute right-0 z-50 w-56 mt-2 origin-top-right bg-gray-800 rounded-md shadow-lg",children:(0,r.jsx)("div",{className:"px-1 py-1",children:s})})})]})},F=e=>{let{Icon:t,...s}=e;return(0,r.jsx)("div",{className:"bg-gray-800 rounded-md m-0",children:(0,r.jsxs)("div",{className:"flex p-2 mx-auto",children:[(0,r.jsxs)("label",{htmlFor:s.id,className:"flex items-center flex-none pr-3",children:[(0,r.jsx)("span",{className:"sr-only",children:s.name}),(0,r.jsx)(t,{className:"w-5 h-5 text-gray-500"})]}),(0,r.jsx)("input",{type:"text",className:"flex-auto h-5 leading-6 text-gray-300 placeholder-gray-300 bg-transparent focus:outline-hidden focus:placeholder-gray-400",...s})]})})},k=e=>{let{sort:t,search:s,completedAtYears:l,availableCompletedAtYears:a,onSortChange:n,onSearchChange:i,onCompletedAtFilterChange:c}=e,o=e=>{n(e)};return(0,r.jsxs)("div",{className:"flex flex-col-reverse my-4 gap-3 sm:items-center sm:flex-row",children:[(0,r.jsx)("div",{className:"grow"}),(0,r.jsx)(F,{id:"game",name:"filter",placeholder:"Search",value:s,onChange:e=>{i(e.target.value||null)},Icon:x.Z}),(0,r.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,r.jsxs)(A,{text:"Filter",children:[(0,r.jsx)(L,{children:"Year"}),(0,r.jsx)(b,{}),a.map(e=>{let t=!!(null==l?void 0:l.includes(e)),s=e=>{let s=t?l.filter(t=>t!==e):l.concat(e).sort((e,t)=>t-e);if(0===s.length){c(null);return}c(s)};return(0,r.jsx)(C,{onClick:()=>s(e),selected:(null==l?void 0:l.includes(e))||!1,children:(0,r.jsx)("span",{className:"flex items-center grow",children:e})},e)})]}),(0,r.jsxs)(A,{text:"Sort",children:[(0,r.jsx)(C,{onClick:()=>o("completed"),selected:"completed"===t,children:(0,r.jsxs)("span",{className:"flex items-center grow",children:[(0,r.jsx)(u.Z,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Completed"]})}),(0,r.jsx)(C,{onClick:()=>o("playtime"),selected:"playtime"===t,children:(0,r.jsxs)("span",{className:"flex items-center grow",children:[(0,r.jsx)(h.Z,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Playtime"]})}),(0,r.jsx)(C,{onClick:()=>o("rating"),selected:"rating"===t,children:(0,r.jsxs)("span",{className:"flex items-center grow",children:[(0,r.jsx)(g.Z,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Rating"]})}),(0,r.jsx)(C,{onClick:()=>o("name"),selected:"name"===t,children:(0,r.jsxs)("span",{className:"flex items-center grow",children:[(0,r.jsx)(p.Z,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Name"]})}),(0,r.jsx)(C,{onClick:()=>o("achievements"),selected:"achievements"===t,children:(0,r.jsxs)("span",{className:"flex items-center grow",children:[(0,r.jsx)(f.Z,{className:"w-4 h-4 mr-2"}),"Achievements"]})})]})]})]})},_=s(8092),H=!0,Z=e=>{let{allGames:t,completedAtYears:s}=e,[n]=(0,l.u)(),[c,x]=(0,d.v1)("query",d.Oi.withDefault("")),[u,h]=(0,d.v1)("sort",(0,d.km)(["completed","playtime","rating","name","achievements"]).withDefault("completed")),[g,p]=(0,d.v1)("completedAt",(0,d.S$)(d.U)),f=(0,m.useMemo)(()=>{let e=t;return g&&(e=e.filter(e=>g.includes(new Date(e.completedAt).getFullYear()))),c&&(e=e.filter(e=>e.title.toLowerCase().includes(c.toLowerCase()))),e},[t,g,c]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i(),{children:[(0,r.jsx)("title",{children:"Home | Completed Games"}),(0,r.jsx)("meta",{name:"description",content:"Home"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)("div",{className:"my-8",children:[(0,r.jsxs)("div",{className:"flex items-center my-4 space-x-3",children:[(0,r.jsxs)("div",{className:"grow text-gray-300 text-sm mt-8",children:[f.length," Games"]}),(0,r.jsx)(k,{sort:u,search:c,completedAtYears:g||[],availableCompletedAtYears:s,onSortChange:h,onSearchChange:x,onCompletedAtFilterChange:p})]}),(0,r.jsx)("div",{ref:n,"data-testid":"game-container",className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 md:gap-6",children:(0,_.M)(f,u).map(e=>{let{sys:t,slug:s,title:l,image:n,rating:i,allAchievements:c}=e;return(0,r.jsx)(o(),{href:"/game/".concat(s),passHref:!0,children:(0,r.jsx)(a.Z,{id:t.id,title:l,img:n.url,rating:i,allAchievements:!!c})},t.id)})})]})]})}}},function(e){e.O(0,[989,16,888,774,179],function(){return e(e.s=258)}),_N_E=e.O()}]);