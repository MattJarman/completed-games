(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4094:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(8587)}])},6330:function(e,t,s){"use strict";var a=s(2676),r=s(2195),l=s.n(r);let n=e=>{let{src:t,width:s,quality:a}=e;return"".concat(t,"?w=").concat(s,"&q=").concat(a||75,"&fm=jpg&fl=progressive")};t.Z=e=>(0,a.jsx)(l(),{loader:n,...e,alt:e.alt})},3094:function(e,t,s){"use strict";s.d(t,{AK:function(){return a},dO:function(){return r}});let a=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")},r=e=>e>=95?"#0EA5E9":e>80&&e<95?"#22C55E":e>75&&e<=80?"#86EFAC":e>60&&e<=75?"#FACC15":e>50&&e<=60?"#EAB308":"#EF4444";s(7232)},7232:function(e,t,s){"use strict";s.d(t,{M:function(){return r}});let a={completed:(e,t)=>new Date(t.completedAt).getTime()-new Date(e.completedAt).getTime(),playtime:(e,t)=>(t.playtime||0)-(e.playtime||0),rating:(e,t)=>t.rating-e.rating,name:(e,t)=>e.title.localeCompare(t.title)},r=(e,t)=>e.sort(a[t])},8587:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return A},default:function(){return Z}});var a=s(2676),r=s(8781),l=s(6330),n=s(3094),i=e=>{let{id:t,title:s,img:r,rating:i}=e;return(0,a.jsxs)("div",{className:"game-card","data-testid":t,children:[(0,a.jsx)(l.Z,{src:r,alt:s,quality:75,placeholder:"blur",blurDataURL:"".concat(r,"?w=100&q=5&fm=jpg&fl=progressive"),sizes:"(max-width: 768px) 50vw, (max-width: 1200px) 30vw, 20vw",width:"600",height:"900"}),(0,a.jsx)("div",{className:"relative bottom-0 flex items-center justify-center w-full",children:(0,a.jsx)("span",{className:"absolute z-40 px-2 font-bold rounded-sm -bottom-2",style:{background:(0,n.dO)(i)},children:i})})]})},c=s(9124),o=s.n(c),d=s(1721),m=s.n(d),x=s(8667),u=s(5271),h=s(3817),f=s(3058),g=s(4610),p=s(687),j=s(520),v=s(9330),w=s(862),y=s(5157),N=s(5994);let b=e=>{let{children:t,selected:s,...r}=e;return(0,a.jsx)(v.v.Item,{children:e=>{let{active:l}=e;return(0,a.jsxs)("button",{...r,className:(0,n.AK)("group flex w-full items-center rounded-md px-2 py-2 text-sm",l?"bg-gray-900 text-white":"text-gray-300"),children:[t,s&&(0,a.jsx)(N.Z,{"data-testid":"check",className:"w-5 h-5","aria-hidden":"true"})]})}})};var C=e=>{let{text:t,children:s}=e;return(0,a.jsxs)(v.v,{as:"div",className:"relative inline-block text-left",children:[(0,a.jsxs)(v.v.Button,{className:"inline-flex justify-center w-full px-4 py-2 text-sm font-medium text-gray-300 bg-gray-800 rounded-md hover:bg-opacity-30",children:[t,(0,a.jsx)(y.Z,{className:"w-5 h-5 ml-2 -mr-1 text-violet-200 hover:text-violet-100","aria-hidden":"true"})]}),(0,a.jsx)(w.u,{as:u.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,a.jsx)(v.v.Items,{className:"absolute right-0 z-50 w-56 mt-2 origin-top-right bg-gray-800 rounded-md shadow-lg",children:(0,a.jsx)("div",{className:"px-1 py-1",children:s})})})]})},_=e=>{let{Icon:t,...s}=e;return(0,a.jsx)("div",{className:"bg-gray-800 rounded-md",children:(0,a.jsxs)("div",{className:"flex p-2 mx-auto",children:[(0,a.jsxs)("label",{htmlFor:s.id,className:"flex items-center flex-none pr-3",children:[(0,a.jsx)("span",{className:"sr-only",children:s.name}),(0,a.jsx)(t,{className:"w-5 h-5 text-gray-500"})]}),(0,a.jsx)("input",{type:"text",className:"flex-auto h-5 leading-6 text-gray-300 placeholder-gray-600 bg-transparent focus:outline-none focus:placeholder-gray-400",...s})]})})},k=e=>{let{sort:t,search:s,onSortChange:r,onSearchChange:l}=e,n=e=>{r(e)};return(0,a.jsxs)("div",{className:"flex flex-col-reverse my-4 space-y-3 sm:items-center sm:space-x-3 sm:flex-row",children:[(0,a.jsx)("div",{className:"flex-grow"}),(0,a.jsx)(_,{id:"game",name:"filter",placeholder:"Search",value:s,onChange:e=>{l(e.target.value)},Icon:h.Z}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)(C,{text:"Sort",children:[(0,a.jsx)(b,{onClick:()=>n("completed"),selected:"completed"===t,children:(0,a.jsxs)("span",{className:"flex items-center flex-grow",children:[(0,a.jsx)(f.Z,{className:"w-5 h-5 mr-2","aria-hidden":"true"}),"Completed"]})}),(0,a.jsx)(b,{onClick:()=>n("playtime"),selected:"playtime"===t,children:(0,a.jsxs)("span",{className:"flex items-center flex-grow",children:[(0,a.jsx)(g.Z,{className:"w-5 h-5 mr-2","aria-hidden":"true"}),"Playtime"]})}),(0,a.jsx)(b,{onClick:()=>n("rating"),selected:"rating"===t,children:(0,a.jsxs)("span",{className:"flex items-center flex-grow",children:[(0,a.jsx)(p.Z,{className:"w-5 h-5 mr-2","aria-hidden":"true"}),"Rating"]})}),(0,a.jsx)(b,{onClick:()=>n("name"),selected:"name"===t,children:(0,a.jsxs)("span",{className:"flex items-center flex-grow",children:[(0,a.jsx)(j.Z,{className:"w-5 h-5 mr-2","aria-hidden":"true"}),"Name"]})})]})})]})},E=s(7232),A=!0,Z=e=>{let{allGames:t}=e,[s]=(0,r.u)(),[l,n]=(0,x.v1)("query",x.Oi.withDefault("")),[c,d]=(0,x.v1)("sort",(0,x.km)(["completed","playtime","rating","name"]).withDefault("completed")),h=(0,u.useMemo)(()=>l?t.filter(e=>e.title.toLowerCase().includes(l.toLowerCase())):t,[t,l]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o(),{children:[(0,a.jsx)("title",{children:"Home | Completed Games"}),(0,a.jsx)("meta",{name:"description",content:"Home"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsxs)("div",{className:"my-8",children:[(0,a.jsxs)("div",{className:"flex items-center my-4 space-x-3",children:[(0,a.jsx)("div",{className:"flex-grow"}),(0,a.jsx)(k,{sort:c,search:l,onSortChange:d,onSearchChange:n})]}),(0,a.jsx)("div",{ref:s,"data-testid":"game-container",className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 md:gap-6",children:(0,E.M)(h,c).map(e=>{let{sys:t,slug:s,title:r,image:l,rating:n}=e;return(0,a.jsx)(m(),{href:"/game/".concat(s),passHref:!0,children:(0,a.jsx)(i,{id:t.id,title:r,img:l.url,rating:n})},t.id)})})]})]})}}},function(e){e.O(0,[178,662,888,774,179],function(){return e(e.s=4094)}),_N_E=e.O()}]);